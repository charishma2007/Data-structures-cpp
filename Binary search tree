#include<bits/stdc++.h>
using namespace std;
class Node{
    public:
    int data;
    Node* left;
    Node* right;

    Node(int val){
        data = val;
        left = NULL;
        right = NULL;
    }
};
class BST{
    public:
    Node * root;
    BST(){
        root = NULL;
    }

    Node* insert(Node* root,int key){
        if(root == NULL){
            return new Node(key);
        }
        if(key < root->data){
            root->left = insert(root->left,key);
        }
        else{
            root->right = insert(root->right,key);
        }
        return root;
    }

    Node* arraytobst(int arr[],int n){
        for(int i=0 ; i<n ; i++){
            root = insert(root,arr[i]);
        }
        return root;
    }
    bool search(Node*root,int key){
        if(root == NULL) return false;
        if(key == root->data){
            return true;
        }
        else if(key < root->data){
            return search(root->left,key);
        }
        else{
            return search(root->right,key);
        }

    }
    Node* findmin(Node* root){
        if(root == NULL) return NULL;
        
        while(root->left != NULL){
            root = root->left;
        }
        return root;
    }
    Node* Delete(Node* root,int key){
        if(root == NULL) return NULL;
        if(key < root->data){
            root->left =  Delete(root->left,key);
        }
        else if(key > root->data){
            root->right =  Delete(root->right,key);
        }
        else{
            //no child
            if(root->left == NULL && root->right == NULL){
                delete(root);
                return NULL;
            }
            //one child
            if(root->left==NULL || root->right==NULL){
                Node* temp;
                if(root->left == NULL){
                    temp = root->right;
                }
                else {
                    temp = root->left;
                }
                delete(root);
                return temp;
            }
            //two children
            else{
                Node* temp = findmin(root->right);
                root->data = temp->data;
                root->right = Delete(root->right,root->data);

            }
        }
        return root;
    }
    
    Node* findmax(Node* root){
        while(root->right != NULL){
            root = root->right;
        }
        return root;
    }
    void inorder(Node*root){
        if(root == NULL) return;
        inorder(root->left);
        cout << root->data << " ";
        inorder(root->right);
        
    }
};
int main(){
    int n;
    cin >> n;
    int arr[n];
    BST tree;
    Node* root;
    for(int i=0 ; i<n ; i++){
        cin >> arr[i] ;
    }
    root = tree.arraytobst(arr,n);
    tree.inorder(root);
    int key;
    cin >> key;
    if(tree.search(root,key)){
        cout << "root is found" << endl;
    }
    else{
        cout << "root is not found" << endl;
    }
    cout << "max element: " << tree.findmin(root)->data<< endl;
    cout << "min element: " << tree.findmax(root)->data << endl;
    root = tree.Delete(root,key);
    tree.inorder(root);

}
